<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" >
<head>
<title>Profile</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" />
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
    <link type="text/css" rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,700italic,300,400,700);" />
    <link rel="stylesheet" href="/static/css/bootstrap.min.css" />
    <link rel="stylesheet" href="/static/css/main.css" />
    <link rel="stylesheet" href="/static/css/font-awesome.min.css" />
    <link rel="stylesheet" href="/static/css/profile.css" />
<script type="text/javascript" src="/static/js/formToWizard.js"></script>
</head>
<body>    
 <% include ../views/partials/header.html %>
     
<div class="container-fluid" id="main">

        <div class="page-header">
            <h1 class="page-title">Build Your Profile!</h1>
            <span id="info">You don't have to fill the form, really. Just click on Next and Back to see the demo.</span></p>
        </div>      
 
    <div class="row">
        
   
            <form id="ProfileForm" action="/profile" method="post">
                <fieldset>

                        <div class="row">
                            <label for="organiztion_type">What type of organization do you work for?</label>
                            <select required=required name="organiztion_type" id="organiztion_type">
                                <%
                                var options = ["Select an option", "School", "School district", "Research organization", "Other"];
                                for ( var i = 0; i < options.length; i++ )
                                {
                                var selected;
                                console.log(user);
                                if (user) { selected = ( user.profile.organiztion_type== options[i] ) ? "selected" : "";}
                                %>
                                <option value="<%=options[ i ] %>" <%=selected %> ><%=options[ i ] %></option><%
                                }
                                %>

                            </select>
                           
                        </div>
                        <div class="row" id="other-specify-type" hidden="hidden">
                            <p>Please specify:</p>
                            <input type="text" id="organiztion_type_other" name="organiztion_type_other" value="<%= user.profile.organiztion_type_other %>" />
                        </div>
      
                </fieldset>

                <fieldset>

             
                        <div class="row">
                            <label for="role">What is your role in the organization?</label>
                            <select required=required name="role" id="role">
                                <%
                                var options = ["Select an option", "Teacher", "Princple", "Technology/IT Advisor", "Other"];
                                for ( var i = 0; i < options.length; i++ )
                                {
                                var selected;
                                console.log(user);
                                if (user) { selected = ( user.profile.role== options[i] ) ? "selected" : "";}
                                %>
                                <option value="<%=options[ i ] %>" <%=selected %> ><%=options[ i ] %></option><%
                                }
                                %>

                            </select>
                          
                        </div>
                        <div id="other-specify-role" hidden="hidden">
                            <p>Please specify:</p>
                            <input type="text" id="role_other" name="role_other" value="<%= user.profile.role_other %>" />
                        </div>
            
                </fieldset>

                <fieldset>
                  
                        <div class="row">
                            <label for="organization_name">Organization Name</label>
                        </div>
                        <div class="row">
                            <input id="organization_name" name="organization_name" type="text" value="<%= user.profile.organization_name %>" />
                        </div>
          

                </fieldset>

                <fieldset>
            
                        <div class="row">
                            <label for="user_name">User Name</label>
                        </div>
                        <div class="row">
                            <input id="user_name" name="user_name" type="text" value="<%= user.profile.user_name %>" />
                        </div>
          

                </fieldset>
                <div class="row">
                    <p>
                        <button class="btn btn-lg btn-primary" id="SaveProfile" type="submit" value="Save Profile">Save Profile</button>
                    </p>
                </div>

            </form>
            
        </div>
        
    </div>
    <footer class="row">
        <% include ../views/partials/footer.html %>
    </footer>
    </div>
   
</body>
<script type="text/javascript">
$(document).ready(function(){
$("#ProfileForm").formToWizard({ submitButton: 'SaveProfile' })
});


$('#organiztion_type').change(function () {
    var value = $(this).val();

    var otherSpecify = $("#other-specify-type");

    if (value === "other") otherSpecify.show();
    else otherSpecify.hide();
});

$('#role').change(function () {
    var value = $(this).val();

    var otherSpecify = $("#other-specify-role");

    if (value === "other") otherSpecify.show();
    else otherSpecify.hide();
});
</script>

</html>
